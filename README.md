<div class="w-full text-sm markdown-body dark:bg-transparent!"><h1 id="vmc-pothole-detection-platform">VMC Pothole Detection Platform</h1>
<p>This project is a full-stack pothole reporting and monitoring platform with a citizen-facing app, an admin dashboard, an Express/MongoDB backend, and a Flask-based AI detection service. The repo is organized into <code>user-panel</code> and <code>admin-panel</code> frontends, plus a Node backend and a Flask service.</p>
<hr>
<h2 id="features">Features</h2>
<ul>
<li>Citizen web app (Vite + React + TypeScript) with Firebase authentication and protected routes.</li>
<li>Report creation with image upload, geolocation and metadata, stored in MongoDB.</li>
<li>AI-powered image analysis via a Flask <code>/predict-image</code> endpoint.</li>
<li>Government admin dashboard (Create React App) with map visualization using Leaflet and analytics using Recharts.</li>
<li>Admin login with token-based authentication against <code>http://localhost:5000/api/login</code>.</li>
</ul>
<hr>
<h2 id="project-structure">Project Structure</h2>
<p>This section summarizes the main modules and how they relate.</p>
<ul>
<li><code>user-panel/</code> â€“ Citizen UI (Vite + React + TS + Tailwind + shadcn/ui).</li>
<li><code>user-panel/backend/</code> â€“ Node/Express API integrating with MongoDB and Flask AI.</li>
<li><code>user-panel/models/Report.js</code> â€“ MongoDB schema for stored reports.</li>
<li><code>user-panel/integrations/firebase/</code> â€“ Firebase auth, Firestore and Storage client.</li>
<li><code>admin-panel/</code> â€“ Admin dashboard (CRA + Tailwind).</li>
<li>Flask AI service â€“ Python app with <code>/predict-image</code> route listening on port <code>5001</code>.</li>
</ul>
<hr>
<h2 id="high-level-architecture">High-Level Architecture</h2>
<p>This diagram shows how the pieces connect.</p>
## ðŸ“Œ System Architecture Diagram

<p align="center">
  <img src="assets/architecture.svg" alt="System Architecture Diagram" width="100%">
</p>

<hr>
<h2 id="prerequisites">Prerequisites</h2>
<p>Make sure you have these installed before running the project.</p>
<ul>
<li>Node.js (LTS) and npm or bun.</li>
<li>Python 3 for the Flask AI service.</li>
<li>MongoDB instance (Atlas or self-hosted).</li>
<li>A Firebase project (Web app) with Email/Password auth enabled.</li>
</ul>
<hr>
<h2 id="1-user-panel-citizen-app">1. User Panel (Citizen App)</h2>
<p>The user panel is a Vite React + TypeScript application with Tailwind and shadcn/ui.</p>
<h3 id="setup">Setup</h3>
<ol>
<li>
<p>Install dependencies:</p>
<pre class="phiki language-shellscript catppuccin-mocha phiki-themes" data-language="shellscript" style="background-color: #1e1e2e;color: #cdd6f4;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 1</span><span class="token" style="color: #f38ba8;font-style: italic;;--phiki-dark-color: #f38ba8;--phiki-dark-font-style: italic">cd</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">user-panel</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 2</span><span class="token" style="color: #89b4fa;font-style: italic;;--phiki-dark-color: #89b4fa;--phiki-dark-font-style: italic">npm</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">install</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 3</span><span class="token" style="color: #9399b2;;--phiki-dark-color: #9399b2">#</span><span class="token" style="color: #9399b2;font-style: italic;;--phiki-dark-color: #9399b2;--phiki-dark-font-style: italic"> or
</span></span><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 4</span><span class="token" style="color: #89b4fa;font-style: italic;;--phiki-dark-color: #89b4fa;--phiki-dark-font-style: italic">bun</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">install</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span></code></pre>
</li>
<li>
<p>Create an <code>.env</code> file in <code>user-panel/</code>:</p>
<pre class="phiki language-shellscript catppuccin-mocha phiki-themes" data-language="shellscript" style="background-color: #1e1e2e;color: #cdd6f4;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 1</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">VITE_FIREBASE_API_KEY</span><span class="token" style="color: #94e2d5;;--phiki-dark-color: #94e2d5">=</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 2</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">VITE_FIREBASE_AUTH_DOMAIN</span><span class="token" style="color: #94e2d5;;--phiki-dark-color: #94e2d5">=</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 3</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">VITE_FIREBASE_PROJECT_ID</span><span class="token" style="color: #94e2d5;;--phiki-dark-color: #94e2d5">=</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 4</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">VITE_FIREBASE_STORAGE_BUCKET</span><span class="token" style="color: #94e2d5;;--phiki-dark-color: #94e2d5">=</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 5</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">VITE_FIREBASE_MESSAGING_SENDER_ID</span><span class="token" style="color: #94e2d5;;--phiki-dark-color: #94e2d5">=</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 6</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">VITE_FIREBASE_APP_ID</span><span class="token" style="color: #94e2d5;;--phiki-dark-color: #94e2d5">=</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">.</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span></code></pre>
<p>These keys are read in <code>src/integrations/firebase/client.ts</code>.</p>
</li>
<li>
<p>Start the dev server:</p>
<pre class="phiki language-shellscript catppuccin-mocha phiki-themes" data-language="shellscript" style="background-color: #1e1e2e;color: #cdd6f4;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 1</span><span class="token" style="color: #89b4fa;font-style: italic;;--phiki-dark-color: #89b4fa;--phiki-dark-font-style: italic">npm</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">run</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">dev</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span></code></pre>
<p>Vite is configured to run on port <code>8080</code>.</p>
</li>
</ol>
<h3 id="key-technologies">Key Technologies</h3>
<ul>
<li>React + TypeScript + Vite entry point: <code>src/main.tsx</code>, <code>src/App.tsx</code>.</li>
<li>Auth via <code>AuthProvider</code> wrapping React Router routes and <code>useAuth</code> hook.</li>
<li>Themed UI via <code>ThemeProvider</code> and <code>ThemeToggle</code>.</li>
<li>Dashboard and reporting sections in <code>src/components/dashboard-section.tsx</code> and <code>src/components/report-section</code>.</li>
</ul>
<hr>
<h2 id="2-node-backend-user-panelbackend">2. Node Backend (user-panel/backend)</h2>
<p>The Node backend exposes APIs for reports and bridges to MongoDB and the Flask AI service.</p>
<h3 id="setup">Setup</h3>
<ol>
<li>
<p>Install dependencies:</p>
<pre class="phiki language-shellscript catppuccin-mocha phiki-themes" data-language="shellscript" style="background-color: #1e1e2e;color: #cdd6f4;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 1</span><span class="token" style="color: #f38ba8;font-style: italic;;--phiki-dark-color: #f38ba8;--phiki-dark-font-style: italic">cd</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">user-panel/backend</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 2</span><span class="token" style="color: #89b4fa;font-style: italic;;--phiki-dark-color: #89b4fa;--phiki-dark-font-style: italic">npm</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">install</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span></code></pre>
<p>(If there is no <code>package.json</code> yet, create one and add <code>express</code>, <code>mongoose</code>, <code>cors</code>, <code>multer</code>, <code>axios</code>, and <code>form-data</code>.)</p>
</li>
<li>
<p>Configure MongoDB:</p>
<ul>
<li>
<p>Update <code>mongoose.connect(...)</code> in <code>server.js</code> to use an environment variable instead of the hard-coded string.</p>
</li>
<li>
<p>For example:</p>
<pre class="phiki language-javascript catppuccin-mocha phiki-themes" data-language="javascript" style="background-color: #1e1e2e;color: #cdd6f4;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 1</span><span class="token" style="color: #9399b2;;--phiki-dark-color: #9399b2">//</span><span class="token" style="color: #9399b2;font-style: italic;;--phiki-dark-color: #9399b2;--phiki-dark-font-style: italic"> server.js (example change, not yet in repo)</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 2</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">mongoose</span><span class="token" style="color: #94e2d5;;--phiki-dark-color: #94e2d5">.</span><span class="token" style="color: #89b4fa;font-style: italic;;--phiki-dark-color: #89b4fa;--phiki-dark-font-style: italic">connect</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">(</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">process</span><span class="token" style="color: #94e2d5;;--phiki-dark-color: #94e2d5">.</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">env</span><span class="token" style="color: #94e2d5;;--phiki-dark-color: #94e2d5">.</span><span class="token" style="color: #fab387;;--phiki-dark-color: #fab387">MONGODB_URI</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">)</span><span class="token" style="color: #9399b2;;--phiki-dark-color: #9399b2">;</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span></code></pre>
</li>
<li>
<p>Then create a <code>.env</code> (or similar) with your MongoDB connection string.</p>
</li>
</ul>
</li>
<li>
<p>Start the API server:</p>
<pre class="phiki language-shellscript catppuccin-mocha phiki-themes" data-language="shellscript" style="background-color: #1e1e2e;color: #cdd6f4;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 1</span><span class="token" style="color: #89b4fa;font-style: italic;;--phiki-dark-color: #89b4fa;--phiki-dark-font-style: italic">node</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">server.js</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span></code></pre>
<p>The API listens on port <code>5000</code>.</p>
</li>
</ol>
<h3 id="responsibilities">Responsibilities</h3>
<ul>
<li>Mounts <code>/api</code> routes and connects to MongoDB.</li>
<li><code>utils/reports.js</code> defines the <code>/report</code> route that:
<ul>
<li>Accepts multipart image uploads.</li>
<li>Sends the image to Flask at <code>http://127.0.0.1:5001/predict-image</code>.</li>
<li>Stores the full report plus AI result into MongoDB using the <code>Report</code> model.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="3-flask-ai-service">3. Flask AI Service</h2>
<p>The Flask service performs image analysis and returns predictions to the Node backend.</p>
<h3 id="setup-high-level">Setup (high level)</h3>
<ol>
<li>
<p>Create and activate a Python virtual environment.</p>
</li>
<li>
<p>Install Flask and required ML / image libraries according to your model code.</p>
</li>
<li>
<p>Ensure the app exposes <code>POST /predict-image</code> and runs on port <code>5001</code>:</p>
<pre class="phiki language-python catppuccin-mocha phiki-themes" data-language="python" style="background-color: #1e1e2e;color: #cdd6f4;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 1</span><span class="token" style="color: #cba6f7;;--phiki-dark-color: #cba6f7">if</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">__name__</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #94e2d5;;--phiki-dark-color: #94e2d5">==</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #9399b2;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">__main__</span><span class="token" style="color: #9399b2;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #9399b2;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 2</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">    </span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">app</span><span class="token" style="color: #9399b2;;--phiki-dark-color: #9399b2">.</span><span class="token" style="color: #89b4fa;;--phiki-dark-color: #89b4fa">run</span><span class="token" style="color: #9399b2;;--phiki-dark-color: #9399b2">(</span><span class="token" style="color: #eba0ac;font-style: italic;;--phiki-dark-color: #eba0ac;--phiki-dark-font-style: italic">host</span><span class="token" style="color: #94e2d5;;--phiki-dark-color: #94e2d5">=</span><span class="token" style="color: #9399b2;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">0.0.0.0</span><span class="token" style="color: #9399b2;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #9399b2;;--phiki-dark-color: #9399b2">,</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #eba0ac;font-style: italic;;--phiki-dark-color: #eba0ac;--phiki-dark-font-style: italic">port</span><span class="token" style="color: #94e2d5;;--phiki-dark-color: #94e2d5">=</span><span class="token" style="color: #fab387;;--phiki-dark-color: #fab387">5001</span><span class="token" style="color: #9399b2;;--phiki-dark-color: #9399b2">,</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #eba0ac;font-style: italic;;--phiki-dark-color: #eba0ac;--phiki-dark-font-style: italic">debug</span><span class="token" style="color: #94e2d5;;--phiki-dark-color: #94e2d5">=</span><span class="token" style="color: #fab387;;--phiki-dark-color: #fab387">True</span><span class="token" style="color: #9399b2;;--phiki-dark-color: #9399b2">)</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span></code></pre>
<p>This is referenced by the <code>axios.post("http://127.0.0.1:5001/predict-image", ...)</code> call in <code>utils/reports.js</code>.</p>
</li>
</ol>
<hr>
<h2 id="4-admin-panel-government-dashboard">4. Admin Panel (Government Dashboard)</h2>
<p>The admin panel is a Create React App-based dashboard that consumes the Node API and displays map and analytics views.</p>
<h3 id="setup">Setup</h3>
<ol>
<li>
<p>Install dependencies:</p>
<pre class="phiki language-shellscript catppuccin-mocha phiki-themes" data-language="shellscript" style="background-color: #1e1e2e;color: #cdd6f4;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 1</span><span class="token" style="color: #f38ba8;font-style: italic;;--phiki-dark-color: #f38ba8;--phiki-dark-font-style: italic">cd</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">admin-panel</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 2</span><span class="token" style="color: #89b4fa;font-style: italic;;--phiki-dark-color: #89b4fa;--phiki-dark-font-style: italic">npm</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">install</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span></code></pre>
</li>
<li>
<p>Start the dev server:</p>
<pre class="phiki language-shellscript catppuccin-mocha phiki-themes" data-language="shellscript" style="background-color: #1e1e2e;color: #cdd6f4;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="line-number" style="color: #7f849c;-webkit-user-select: none"> 1</span><span class="token" style="color: #89b4fa;font-style: italic;;--phiki-dark-color: #89b4fa;--phiki-dark-font-style: italic">npm</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #a6e3a1;;--phiki-dark-color: #a6e3a1">start</span><span class="token" style="color: #cdd6f4;;--phiki-dark-color: #cdd6f4">
</span></span></code></pre>
<p>CRA defaults to port <code>3000</code>.</p>
</li>
</ol>
<h3 id="behavior">Behavior</h3>
<ul>
<li><code>src/App.js</code> switches between <code>Login</code> and <code>Dashboard</code> based on local storage token and user.</li>
<li><code>src/pages/Login.js</code> posts credentials to <code>http://localhost:5000/api/login</code>, then stores a JWT token and user data.</li>
<li><code>src/pages/Dashboard.js</code> shows:
<ul>
<li>Leaflet map with damage markers.</li>
<li>Recharts graphs for severity, trends, and other stats.</li>
</ul>
</li>
</ul>
<p>Demo credentials are shown in the login page UI (for local development only).</p>
<hr>
<h2 id="5-running-the-full-stack">5. Running the Full Stack</h2>
<p>Follow this order to get a working end-to-end system.</p>
<ol>
<li>Start MongoDB and ensure the connection string is valid for the Node backend.</li>
<li>Start the Flask AI service on port <code>5001</code>.</li>
<li>Start the Node backend (<code>user-panel/backend/server.js</code>) on port <code>5000</code>.</li>
<li>Start the user-panel Vite dev server (port <code>8080</code>).</li>
<li>Start the admin-panel CRA dev server (port <code>3000</code>).</li>
</ol>
<p>You should now be able to:</p>
<ul>
<li>Visit <code>http://localhost:8080</code> to use the citizen-facing app.</li>
<li>Visit <code>http://localhost:3000</code> to log into the admin portal.</li>
</ul>
<hr>
<h2 id="6-api-reference">6. API Reference</h2>
<p>This section documents the main HTTP endpoints used across the project.</p>
<h3 id="post-apireport-node-backend">POST /api/report (Node backend)</h3>
<div class="api-error p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg mb-6"><div class="font-medium text-red-800 dark:text-red-300">API Block Error</div><div class="mt-1 text-sm text-red-600 dark:text-red-400">Invalid JSON format: Control character error, possibly incorrectly encoded</div></div>
<p>The route is defined in <code>utils/reports.js</code> and mounted under <code>/api</code> in <code>backend/server.js</code>.</p>
<hr>
<h3 id="post-predict-image-flask-ai">POST /predict-image (Flask AI)</h3>
<div id="api-6934273417b0a" class="api-documentation"><div class="overflow-hidden my-6 bg-white rounded-lg border dark:bg-zinc-900 shadow-xs border-slate-200 dark:border-zinc-700 api-block"><div class="px-6 py-4 border-b bg-slate-50 dark:bg-zinc-900 border-slate-200 dark:border-zinc-700"><div class="flex gap-3 justify-between items-center mb-2"><div class="flex gap-3 items-center"><h3 class="text-xl font-semibold text-slate-900 dark:text-zinc-100">Predict Image Damage</h3></div><button type="button" onclick="exportApiToPostman('api-6934273417b0a')" class="inline-flex gap-2 items-center px-3 py-1.5 text-sm font-medium bg-white rounded-md border transition-colors duration-200 dark:bg-zinc-700 shadow-xs text-slate-700 dark:text-zinc-300 border-slate-300 dark:border-zinc-600 hover:bg-slate-50 dark:hover:bg-zinc-600 hover:text-slate-900 dark:hover:text-zinc-100 focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-hidden"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg>Export to Postman</button></div><p class="text-sm leading-relaxed text-slate-600 dark:text-zinc-400">Internal endpoint used by the Node backend to run AI-based detection on the uploaded road image.</p></div><div class="px-6 py-4 border-b bg-slate-50 dark:bg-zinc-800 border-slate-200 dark:border-zinc-700"><div class="flex gap-3 items-center"><span class="inline-flex items-center px-2.5 py-1 text-xs font-semibold rounded-sm borderbg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 border-emerald-200 dark:border-emerald-700">POST</span><code class="flex-1 px-3 py-2 font-mono text-sm bg-white rounded-sm border dark:bg-zinc-700 text-slate-700 dark:text-zinc-300 border-slate-200 dark:border-zinc-600">http://127.0.0.1:5001/predict-image</code></div></div><div class="p-6"><div class="grid grid-cols-1 gap-8 lg:grid-cols-2"><div class="space-y-6"><div class="pl-4 border-l-2 border-green-500 dark:border-green-400"><div class="flex gap-2 items-center mb-3"><div class="text-slate-400 dark:text-zinc-500"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><span class="font-medium text-slate-900 dark:text-zinc-100">Headers</span></div><div class="space-y-4"><div class="space-y-2"><div class="flex gap-3 items-center"><code class="px-2 py-0.5 text-sm font-semibold rounded-sm text-slate-900 dark:text-zinc-100 bg-slate-100 dark:bg-zinc-700">Content-Type</code><span class="text-xs font-medium text-slate-500 dark:text-zinc-400">string â€¢ header</span><span class="text-xs font-medium text-red-600 dark:text-red-400">required</span></div><p class="text-sm leading-relaxed text-slate-600 dark:text-zinc-400">multipart/form-data</p></div></div></div><div class="pl-4 border-l-2 border-green-500 dark:border-green-400"><div class="flex gap-2 items-center mb-3"><div class="text-slate-400 dark:text-zinc-500"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><span class="font-medium text-slate-900 dark:text-zinc-100">Request body</span></div><p class="mb-3 text-sm text-slate-600 dark:text-zinc-400">Form data parameters for this request.</p><div class="space-y-3"><div class="flex gap-3 items-center"><code class="px-2 py-0.5 text-sm font-semibold rounded-sm text-slate-900 dark:text-zinc-100 bg-slate-100 dark:bg-zinc-700">image</code><span class="text-sm text-slate-600 dark:text-zinc-400">Image file forwarded from Node backend</span><span class="text-xs font-medium text-red-600 dark:text-red-400">required</span></div></div></div></div><div class="space-y-6"><div class="space-y-4"><h3 class="text-sm font-medium text-slate-900 dark:text-zinc-100">Code examples</h3><div class="overflow-x-auto rounded-md border border-slate-200 dark:border-zinc-600"><pre class="phiki language-shellscript catppuccin-latte phiki-themes catppuccin-mocha" data-language="shellscript" style="background-color: #eff1f5;color: #4c4f69;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="token" style="color: #1e66f5;font-style: italic;;--phiki-dark-color: #89b4fa;--phiki-dark-font-style: italic">curl</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">-</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">X</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">POST</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">http://127.0.0.1:5001/predict-image</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #ea76cb;;--phiki-dark-color: #f5c2e7">\
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">-</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">H</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">Content-Type: multipart/form-data</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #ea76cb;;--phiki-dark-color: #f5c2e7">\
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">-</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">d</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">image=Image file forwarded from Node backend</span><span class="token" style="color: #ea76cb;;--phiki-dark-color: #f5c2e7">\"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">
</span></span></code></pre></div></div><div class="space-y-4"><h3 class="text-sm font-medium text-slate-900 dark:text-zinc-100">Responses</h3><div class="flex gap-1 border-b border-slate-200 dark:border-zinc-700" data-tabs-container="responses-tabs-693427341f965"><button class="pb-2 text-sm font-medium transition-all duration-200 api-response-tab hover:text-slate-700 dark:hover:text-zinc-300text-emerald-600 dark:text-emerald-400 border-emerald-600 dark:border-emerald-400 border-b-2" data-tab-target="responses-tabs-693427341f965-200" data-tab-status="200" data-tab-color="text-emerald-600 dark:text-emerald-400 border-emerald-600 dark:border-emerald-400">200</button><button class="pb-2 text-sm font-medium transition-all duration-200 api-response-tab hover:text-slate-700 dark:hover:text-zinc-300text-slate-500 dark:text-zinc-400 border-b-2 border-transparent dark:border-transparent" data-tab-target="responses-tabs-693427341f965-500" data-tab-status="500" data-tab-color="text-red-600 dark:text-red-400 border-red-600 dark:border-red-400">500</button></div><div id="responses-tabs-693427341f965-200" class="space-y-2 api-response-content"><p class="text-sm text-slate-600 dark:text-zinc-400">Prediction result with detections</p><div class="overflow-x-auto rounded-md border border-slate-200 dark:border-zinc-600"><pre class="phiki language-json catppuccin-latte phiki-themes catppuccin-mocha" data-language="json" style="background-color: #eff1f5;color: #4c4f69;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">{</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #1e66f5;;--phiki-dark-color: #89b4fa">success</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #fe640b;;--phiki-dark-color: #fab387">true</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">,</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #1e66f5;;--phiki-dark-color: #89b4fa">detections</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">[</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">    </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">{</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #1e66f5;;--phiki-dark-color: #89b4fa">label</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">pothole</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">,</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #1e66f5;;--phiki-dark-color: #89b4fa">confidence</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #fe640b;;--phiki-dark-color: #fab387">0.97</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">,</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #1e66f5;;--phiki-dark-color: #89b4fa">bbox</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">[</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">x</span><span class="token" style="color: #fe640b;;--phiki-dark-color: #fab387">1</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">,</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">y</span><span class="token" style="color: #fe640b;;--phiki-dark-color: #fab387">1</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">,</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">x</span><span class="token" style="color: #fe640b;;--phiki-dark-color: #fab387">2</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">,</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">y</span><span class="token" style="color: #fe640b;;--phiki-dark-color: #fab387">2</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">]</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">}</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">]</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">,</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #1e66f5;;--phiki-dark-color: #89b4fa">output_image</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">path_or_url_to_annotated_image</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">}</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span></code></pre></div></div><div id="responses-tabs-693427341f965-500" class="space-y-2 api-response-contenthidden"><p class="text-sm text-slate-600 dark:text-zinc-400">Model or processing error</p><div class="overflow-x-auto rounded-md border border-slate-200 dark:border-zinc-600"><pre class="phiki language-json catppuccin-latte phiki-themes catppuccin-mocha" data-language="json" style="background-color: #eff1f5;color: #4c4f69;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">{</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #1e66f5;;--phiki-dark-color: #89b4fa">success</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #fe640b;;--phiki-dark-color: #fab387">false</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">,</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #1e66f5;;--phiki-dark-color: #89b4fa">error</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">Error message</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">}</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span></code></pre></div></div></div></div></div></div></div><script>(function() {  window.apiBlockData = window.apiBlockData || {};  window.apiBlockData["api-6934273417b0a"] = {"title":"Predict Image Damage","description":"Internal endpoint used by the Node backend to run AI-based detection on the uploaded road image.","method":"POST","baseUrl":"http://127.0.0.1:5001","endpoint":"/predict-image","headers":[{"key":"Content-Type","value":"multipart/form-data","required":true}],"queryParams":[],"pathParams":[],"bodyType":"form","requestBody":"","formData":[{"key":"image","value":"Image file forwarded from Node backend","required":true}],"responses":{"200":{"description":"Prediction result with detections","body":"{\n  \"success\": true,\n  \"detections\": [\n    {\"label\": \"pothole\", \"confidence\": 0.97, \"bbox\": [x1, y1, x2, y2] }\n  ],\n  \"output_image\": \"path_or_url_to_annotated_image\"\n}"},"500":{"description":"Model or processing error","body":"{\n  \"success\": false,\n  \"error\": \"Error message\"\n}"}}};  document.addEventListener("DOMContentLoaded", function() {    document.querySelectorAll(".api-response-tab").forEach(function(tab) {      tab.addEventListener("click", function(e) {        e.preventDefault();        var targetId = this.getAttribute("data-tab-target");        var tabColor = this.getAttribute("data-tab-color");        var container = this.closest("[data-tabs-container]");        container.querySelectorAll(".api-response-tab").forEach(function(otherTab) {          otherTab.classList.remove("text-emerald-600", "text-blue-600", "text-amber-600", "text-red-600", "text-slate-900", "border-emerald-600", "border-blue-600", "border-amber-600", "border-red-600", "border-slate-900");          otherTab.classList.add("text-slate-500", "border-transparent");        });        this.classList.remove("text-slate-500", "border-transparent");        var colorClasses = tabColor.split(" ");        for (var i = 0; i < colorClasses.length; i++) {          if (colorClasses[i].trim()) this.classList.add(colorClasses[i].trim());        }        var baseId = targetId.split("-").slice(0, -1).join("-");        document.querySelectorAll(".api-response-content").forEach(function(content) {          if (content.id.startsWith(baseId)) {            content.classList.add("hidden");          }        });        var targetContent = document.getElementById(targetId);        if (targetContent) {          targetContent.classList.remove("hidden");        }      });    });  });})();</script></div>
<p>The Node backend calls this endpoint using <code>axios.post("http://127.0.0.1:5001/predict-image", ...)</code>.</p>
<hr>
<h3 id="post-apilogin-admin-login">POST /api/login (Admin login)</h3>
<div id="api-693427343729c" class="api-documentation"><div class="overflow-hidden my-6 bg-white rounded-lg border dark:bg-zinc-900 shadow-xs border-slate-200 dark:border-zinc-700 api-block"><div class="px-6 py-4 border-b bg-slate-50 dark:bg-zinc-900 border-slate-200 dark:border-zinc-700"><div class="flex gap-3 justify-between items-center mb-2"><div class="flex gap-3 items-center"><h3 class="text-xl font-semibold text-slate-900 dark:text-zinc-100">Admin Login</h3></div><button type="button" onclick="exportApiToPostman('api-693427343729c')" class="inline-flex gap-2 items-center px-3 py-1.5 text-sm font-medium bg-white rounded-md border transition-colors duration-200 dark:bg-zinc-700 shadow-xs text-slate-700 dark:text-zinc-300 border-slate-300 dark:border-zinc-600 hover:bg-slate-50 dark:hover:bg-zinc-600 hover:text-slate-900 dark:hover:text-zinc-100 focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-hidden"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg>Export to Postman</button></div><p class="text-sm leading-relaxed text-slate-600 dark:text-zinc-400">Authenticate an admin user and return a JWT token plus basic user information.</p></div><div class="px-6 py-4 border-b bg-slate-50 dark:bg-zinc-800 border-slate-200 dark:border-zinc-700"><div class="flex gap-3 items-center"><span class="inline-flex items-center px-2.5 py-1 text-xs font-semibold rounded-sm borderbg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 border-emerald-200 dark:border-emerald-700">POST</span><code class="flex-1 px-3 py-2 font-mono text-sm bg-white rounded-sm border dark:bg-zinc-700 text-slate-700 dark:text-zinc-300 border-slate-200 dark:border-zinc-600">http://localhost:5000/api/login</code></div></div><div class="p-6"><div class="grid grid-cols-1 gap-8 lg:grid-cols-2"><div class="space-y-6"><div class="pl-4 border-l-2 border-green-500 dark:border-green-400"><div class="flex gap-2 items-center mb-3"><div class="text-slate-400 dark:text-zinc-500"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><span class="font-medium text-slate-900 dark:text-zinc-100">Headers</span></div><div class="space-y-4"><div class="space-y-2"><div class="flex gap-3 items-center"><code class="px-2 py-0.5 text-sm font-semibold rounded-sm text-slate-900 dark:text-zinc-100 bg-slate-100 dark:bg-zinc-700">Content-Type</code><span class="text-xs font-medium text-slate-500 dark:text-zinc-400">string â€¢ header</span><span class="text-xs font-medium text-red-600 dark:text-red-400">required</span></div><p class="text-sm leading-relaxed text-slate-600 dark:text-zinc-400">application/json</p></div></div></div><div class="pl-4 border-l-2 border-green-500 dark:border-green-400"><div class="flex gap-2 items-center mb-3"><div class="text-slate-400 dark:text-zinc-500"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><span class="font-medium text-slate-900 dark:text-zinc-100">Request body</span></div><p class="mb-3 text-sm text-slate-600 dark:text-zinc-400">JSON payload required for this request.</p><div class="overflow-x-auto rounded-md border border-slate-200 dark:border-zinc-600"><pre class="phiki language-json catppuccin-latte phiki-themes catppuccin-mocha" data-language="json" style="background-color: #eff1f5;color: #4c4f69;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">{</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #1e66f5;;--phiki-dark-color: #89b4fa">username</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">admin</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">,</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #1e66f5;;--phiki-dark-color: #89b4fa">password</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">government123</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">}</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span></code></pre></div></div></div><div class="space-y-6"><div class="space-y-4"><h3 class="text-sm font-medium text-slate-900 dark:text-zinc-100">Code examples</h3><div class="overflow-x-auto rounded-md border border-slate-200 dark:border-zinc-600"><pre class="phiki language-shellscript catppuccin-latte phiki-themes catppuccin-mocha" data-language="shellscript" style="background-color: #eff1f5;color: #4c4f69;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="token" style="color: #1e66f5;font-style: italic;;--phiki-dark-color: #89b4fa;--phiki-dark-font-style: italic">curl</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">-</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">X</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">POST</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">http://localhost:5000/api/login</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #ea76cb;;--phiki-dark-color: #f5c2e7">\
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">-</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">H</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">Content-Type: application/json</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #ea76cb;;--phiki-dark-color: #f5c2e7">\
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">-</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">H</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">Content-Type: application/json</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #ea76cb;;--phiki-dark-color: #f5c2e7">\
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">-</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">d</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">'</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">{
</span></span><span class="line"><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">  \"username\": \"admin\",
</span></span><span class="line"><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">  \"password\": \"government123\"
</span></span><span class="line"><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">}</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">'</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span></code></pre></div></div><div class="space-y-4"><h3 class="text-sm font-medium text-slate-900 dark:text-zinc-100">Responses</h3><div class="flex gap-1 border-b border-slate-200 dark:border-zinc-700" data-tabs-container="responses-tabs-693427344591f"><button class="pb-2 text-sm font-medium transition-all duration-200 api-response-tab hover:text-slate-700 dark:hover:text-zinc-300text-emerald-600 dark:text-emerald-400 border-emerald-600 dark:border-emerald-400 border-b-2" data-tab-target="responses-tabs-693427344591f-200" data-tab-status="200" data-tab-color="text-emerald-600 dark:text-emerald-400 border-emerald-600 dark:border-emerald-400">200</button><button class="pb-2 text-sm font-medium transition-all duration-200 api-response-tab hover:text-slate-700 dark:hover:text-zinc-300text-slate-500 dark:text-zinc-400 border-b-2 border-transparent dark:border-transparent" data-tab-target="responses-tabs-693427344591f-401" data-tab-status="401" data-tab-color="text-amber-600 dark:text-amber-400 border-amber-600 dark:border-amber-400">401</button><button class="pb-2 text-sm font-medium transition-all duration-200 api-response-tab hover:text-slate-700 dark:hover:text-zinc-300text-slate-500 dark:text-zinc-400 border-b-2 border-transparent dark:border-transparent" data-tab-target="responses-tabs-693427344591f-500" data-tab-status="500" data-tab-color="text-red-600 dark:text-red-400 border-red-600 dark:border-red-400">500</button></div><div id="responses-tabs-693427344591f-200" class="space-y-2 api-response-content"><p class="text-sm text-slate-600 dark:text-zinc-400">Login successful</p><div class="overflow-x-auto rounded-md border border-slate-200 dark:border-zinc-600"><pre class="phiki language-json catppuccin-latte phiki-themes catppuccin-mocha" data-language="json" style="background-color: #eff1f5;color: #4c4f69;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">{</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #1e66f5;;--phiki-dark-color: #89b4fa">token</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">jwt_token_string</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">,</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #1e66f5;;--phiki-dark-color: #89b4fa">user</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">{</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">    </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #1e66f5;;--phiki-dark-color: #89b4fa">name</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">Admin User</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">,</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">    </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #1e66f5;;--phiki-dark-color: #89b4fa">role</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">admin</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">}</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">}</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span></code></pre></div></div><div id="responses-tabs-693427344591f-401" class="space-y-2 api-response-contenthidden"><p class="text-sm text-slate-600 dark:text-zinc-400">Invalid credentials</p><div class="overflow-x-auto rounded-md border border-slate-200 dark:border-zinc-600"><pre class="phiki language-json catppuccin-latte phiki-themes catppuccin-mocha" data-language="json" style="background-color: #eff1f5;color: #4c4f69;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">{</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #1e66f5;;--phiki-dark-color: #89b4fa">message</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">Login failed</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">}</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span></code></pre></div></div><div id="responses-tabs-693427344591f-500" class="space-y-2 api-response-contenthidden"><p class="text-sm text-slate-600 dark:text-zinc-400">Server error</p><div class="overflow-x-auto rounded-md border border-slate-200 dark:border-zinc-600"><pre class="phiki language-json catppuccin-latte phiki-themes catppuccin-mocha" data-language="json" style="background-color: #eff1f5;color: #4c4f69;;--phiki-dark-background-color: #1e1e2e;--phiki-dark-color: #cdd6f4"><code><span class="line"><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">{</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">  </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #1e66f5;;--phiki-dark-color: #89b4fa">message</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">:</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4"> </span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #40a02b;;--phiki-dark-color: #a6e3a1">Internal server error</span><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">"</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span><span class="line"><span class="token" style="color: #7c7f93;;--phiki-dark-color: #9399b2">}</span><span class="token" style="color: #4c4f69;;--phiki-dark-color: #cdd6f4">
</span></span></code></pre></div></div></div></div></div></div></div><script>(function() {  window.apiBlockData = window.apiBlockData || {};  window.apiBlockData["api-693427343729c"] = {"title":"Admin Login","description":"Authenticate an admin user and return a JWT token plus basic user information.","method":"POST","baseUrl":"http://localhost:5000","endpoint":"/api/login","headers":[{"key":"Content-Type","value":"application/json","required":true}],"queryParams":[],"pathParams":[],"bodyType":"json","requestBody":"{\n  \"username\": \"admin\",\n  \"password\": \"government123\"\n}","formData":[],"responses":{"200":{"description":"Login successful","body":"{\n  \"token\": \"jwt_token_string\",\n  \"user\": {\n    \"name\": \"Admin User\",\n    \"role\": \"admin\"\n  }\n}"},"401":{"description":"Invalid credentials","body":"{\n  \"message\": \"Login failed\"\n}"},"500":{"description":"Server error","body":"{\n  \"message\": \"Internal server error\"\n}"}}};  document.addEventListener("DOMContentLoaded", function() {    document.querySelectorAll(".api-response-tab").forEach(function(tab) {      tab.addEventListener("click", function(e) {        e.preventDefault();        var targetId = this.getAttribute("data-tab-target");        var tabColor = this.getAttribute("data-tab-color");        var container = this.closest("[data-tabs-container]");        container.querySelectorAll(".api-response-tab").forEach(function(otherTab) {          otherTab.classList.remove("text-emerald-600", "text-blue-600", "text-amber-600", "text-red-600", "text-slate-900", "border-emerald-600", "border-blue-600", "border-amber-600", "border-red-600", "border-slate-900");          otherTab.classList.add("text-slate-500", "border-transparent");        });        this.classList.remove("text-slate-500", "border-transparent");        var colorClasses = tabColor.split(" ");        for (var i = 0; i < colorClasses.length; i++) {          if (colorClasses[i].trim()) this.classList.add(colorClasses[i].trim());        }        var baseId = targetId.split("-").slice(0, -1).join("-");        document.querySelectorAll(".api-response-content").forEach(function(content) {          if (content.id.startsWith(baseId)) {            content.classList.add("hidden");          }        });        var targetContent = document.getElementById(targetId);        if (targetContent) {          targetContent.classList.remove("hidden");        }      });    });  });})();</script></div>
<p>This matches the usage in <code>admin-panel/src/pages/Login.js</code>, where the response is expected to include <code>token</code> and <code>user</code> fields.</p>
<hr>
<div id="card-6934273455aca" class="card-documentation"><div class="p-5 my-6 bg-white rounded-lg border shadow-sm transition-all group border-zinc-200 hover:border-zinc-300 hover:shadow-md dark:border-zinc-700 dark:hover:border-zinc-600 dark:hover:shadow-lg dark:bg-zinc-900"><div class="flex-1 text-base font-semibold bg-transparent border-0 text-zinc-900 placeholder-zinc-400 focus:outline-none dark:text-zinc-100 dark:placeholder-zinc-500"><p>Security Reminder</p></div><div class=""><p class="mb-0 w-full text-sm leading-relaxed bg-transparent border-0 resize-vertical text-zinc-900 placeholder-zinc-400 focus:outline-none dark:text-zinc-100 dark:placeholder-zinc-500">Before deployment, move hard-coded secrets (like MongoDB URIs) into environment variables and never commit them to version control.</p></div></div></div>
</div>
